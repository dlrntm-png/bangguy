# Render 파일 시스템 스토리지 가이드

## 현재 구현

### ✅ Render 파일 시스템 사용 중

**저장 위치:**
- 로컬: `storage/` 폴더
- Render: Render 서버의 `storage/` 폴더
- 경로: `storage/attendance/타임스탬프-랜덤.webp`

**접근 방법:**
- URL: `https://bangguy.onrender.com/storage/attendance/파일명.webp`
- Express 정적 파일 서빙으로 자동 제공

## 사진 다운로드 가능 여부

### ✅ 다운로드 가능

**방법 1: 직접 URL 접근**
```
https://bangguy.onrender.com/storage/attendance/1762923249244-klhl0egy8n.webp
```
- 브라우저에서 직접 접근 가능
- 우클릭 → "이미지 저장" 가능

**방법 2: 관리자 페이지에서 확인**
- 관리자 페이지에서 사진 미리보기
- 사진 클릭 시 새 탭에서 열림
- 우클릭 → "이미지 저장" 가능

**방법 3: API를 통한 다운로드**
- 현재는 정적 파일 서빙으로 자동 제공
- 추가 다운로드 API 필요 시 구현 가능

## Render 파일 시스템 특징

### 장점
- ✅ 결제 정보 불필요
- ✅ 완전 무료
- ✅ 설정 간단
- ✅ Express 정적 파일 서빙으로 자동 제공

### 주의사항

**1. Render 무료 플랜 제한**
- 영구 디스크 없음 (서버 재시작 시 파일 손실 가능)
- 하지만 일반적으로 파일은 유지됨
- 서버 업데이트 시 파일 손실 가능

**2. 백업 권장**
- 정기적으로 파일 백업
- 월별 정리 기능 활용
- 중요 파일은 별도 백업

**3. 용량 제한**
- Render 무료 플랜: 디스크 공간 제한 있음
- 현재 사용량(300MB/월)은 문제없음

## 영구 저장이 필요한 경우

### 옵션 1: Render 영구 볼륨 (무료 플랜에서도 가능)
1. Render 대시보드 → 프로젝트 → Settings
2. "Persistent Disks" 섹션
3. 볼륨 생성 및 마운트
4. `STORAGE_DIR` 환경 변수에 볼륨 경로 설정

### 옵션 2: 외부 스토리지 사용
- R2/S3 환경 변수 설정 시 자동 전환
- 결제 정보 필요

## 현재 상태 확인

### 파일 저장 확인
1. Render 대시보드 → 프로젝트 → Logs
2. "Using Render file system storage" 메시지 확인
3. 파일 업로드 후 `storage/` 폴더 확인

### 사진 접근 확인
1. 관리자 페이지에서 사진 미리보기 확인
2. 사진 URL 클릭하여 새 탭에서 열림 확인
3. 우클릭 → "이미지 저장" 가능 확인

## 요약

- ✅ **Render 파일 시스템 사용 중**
- ✅ **사진 다운로드 가능** (정적 파일 서빙)
- ✅ **URL로 직접 접근 가능**
- ⚠️ **영구 저장을 원하면 볼륨 마운트 권장**

---

**현재 구현:**
- 파일 저장: `storage/` 폴더
- 파일 접근: `/storage/attendance/파일명.webp`
- 다운로드: 브라우저에서 직접 가능

