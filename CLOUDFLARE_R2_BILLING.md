# Cloudflare R2 결제 및 사용량 제한 가이드

## 무료 플랜 제한

### 스토리지
- **무료:** 10GB/월
- **초과 시:** GB당 월 $0.015

### 작업 (Operations)
- **Class A Operations:** 1백만 건/월 무료
  - 초과 시: 백만 건당 $4.50
- **Class B Operations:** 1천만 건/월 무료
  - 초과 시: 백만 건당 $0.36

### 아웃바운드 트래픽
- **무료:** 무제한 (다른 S3 서비스와 차별점)

## 자동 결제 여부

### ⚠️ 중요: 자동 결제 가능

Cloudflare R2는 **무료 한도를 초과하면 자동으로 요금이 부과**됩니다.

**하지만:**
- 결제 정보를 등록하지 않으면 **서비스가 중단**될 수 있습니다
- 결제 정보를 등록하면 **자동 결제**됩니다

## 결제 정보 등록 여부

### 옵션 1: 결제 정보 등록 안 함 (권장 - 무료 사용)
- **장점:** 자동 결제 없음
- **단점:** 무료 한도 초과 시 서비스 중단 가능
- **권장:** 무료 한도 내에서 사용

### 옵션 2: 결제 정보 등록
- **장점:** 무료 한도 초과 시에도 서비스 계속 사용
- **단점:** 자동 결제 발생 가능
- **주의:** 사용량 모니터링 필수

## 사용량 모니터링

### Cloudflare 대시보드에서 확인
1. Cloudflare 대시보드 → R2
2. 버킷 선택 → "Analytics" 탭
3. 사용량 확인:
   - 스토리지 사용량
   - Class A Operations
   - Class B Operations

### 알림 설정 (권장)
1. Cloudflare 대시보드 → 알림 설정
2. R2 사용량 알림 활성화
3. 무료 한도 80% 도달 시 알림 받기

## 예상 사용량 (200명/일, 30일 기준)

### 스토리지
- 사진 크기: 평균 50KB (WebP 압축 후)
- 일일: 200명 × 50KB = 10MB
- 월간: 10MB × 30일 = 300MB
- **무료 한도 (10GB) 내에서 충분히 사용 가능** ✅

### Operations
- 업로드: 200명/일 × 30일 = 6,000건/월
- 다운로드: 관리자 조회 시
- **무료 한도 내에서 충분히 사용 가능** ✅

## 결론

### 현재 사용량 기준
- **스토리지:** 300MB/월 (무료 10GB의 3%)
- **Operations:** 약 6,000건/월 (무료 한도 내)
- **결론:** 무료 플랜으로 충분히 사용 가능 ✅

### 권장 사항
1. **결제 정보 등록 안 함** (무료 사용)
2. **사용량 모니터링** (월 1회 확인)
3. **알림 설정** (80% 도달 시 알림)
4. **정기적 정리** (오래된 파일 삭제)

## 사용량 초과 방지 방법

1. **정기적 정리**
   - 오래된 사진 파일 삭제
   - 월별 백업 후 정리

2. **압축 최적화**
   - WebP 품질 조정
   - 이미지 크기 제한

3. **사용량 모니터링**
   - 월 1회 확인
   - 알림 설정

## 요약

- ✅ **무료 플랜으로 충분히 사용 가능**
- ⚠️ **결제 정보 등록 시 자동 결제 가능**
- ✅ **결제 정보 없이도 무료 한도 내에서 사용 가능**
- ✅ **현재 사용량은 무료 한도 내**

---

**추천:** 결제 정보를 등록하지 않고 무료 플랜으로 사용하되, 사용량을 정기적으로 모니터링하세요.

